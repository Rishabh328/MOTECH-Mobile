<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:jee="http://www.springframework.org/schema/jee"
       xmlns:lang="http://www.springframework.org/schema/lang"
       xmlns:util="http://www.springframework.org/schema/util"
       xmlns:p="http://www.springframework.org/schema/p"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
       http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-2.5.xsd
       http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-2.5.xsd
       http://www.springframework.org/schema/lang http://www.springframework.org/schema/lang/spring-lang-2.5.xsd
       http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-2.5.xsd">

    <import resource="classpath:META-INF/registrar-services.xml" />

    <bean id="imFormValidator" class="org.motechproject.mobile.imp.util.IncomingMessageFormValidatorImpl">
        <property name="coreManager" ref="coreManager" />
        <property name="regWS" ref="registrarClient" />
        <property name="dateFormat" value="${imp.validator.dateFormat}" />
        <property name="omiManager" ref="omiManager" />
        <property name="serverErrors">
            <map>
                <entry key="1" value="not found" />
                <entry key="2" value="in use" />
                <entry key="3" value="missing" />
            </map>
        </property>
        <property name="paramValidators">
            <map key-type="java.lang.String">
                <entry key="ALPHA">
                    <list>
                        <bean class="org.motechproject.mobile.imp.util.ParamExpressionValidator">
                            <property name="expression" value="${imp.validator.alphaExpression}" />
                        </bean>
                        <bean class="org.motechproject.mobile.imp.util.ParamSizeValidator" />
                    </list>
                </entry>
                <entry key="ALPHANUM">
                    <list>
                        <bean class="org.motechproject.mobile.imp.util.ParamExpressionValidator">
                            <property name="expression" value="${imp.validator.alphaNumExpression}" />
                        </bean>
                        <bean class="org.motechproject.mobile.imp.util.ParamSizeValidator" />
                    </list>
                </entry>
                <entry key="DATE">
                    <list>
                        <bean class="org.motechproject.mobile.imp.util.ParamSizeValidator" />
                        <bean class="org.motechproject.mobile.imp.util.ParamExpressionValidator">
                            <property name="expression" value="${imp.validator.dateExpression}" />
                            <property name="dateFormat" value="${imp.validator.dateFormat}" />
                        </bean>
                    </list>
                </entry>
                <entry key="EXPIRYDATE">
                    <list>
                        <bean class="org.motechproject.mobile.imp.util.ParamSizeValidator" />
                        <bean class="org.motechproject.mobile.imp.util.ParamExpressionValidator">
                            <property name="expression" value="${imp.validator.dateExpression}" />
                            <property name="dateFormat" value="${imp.validator.dateFormat}" />
                        </bean>
                    </list>
                </entry>
                <entry key="NUMERIC">
                    <list>
                        <bean class="org.motechproject.mobile.imp.util.ParamExpressionValidator">
                            <property name="expression" value="${imp.validator.numericExpression}" />
                        </bean>
                        <bean class="org.motechproject.mobile.imp.util.ParamSizeValidator" />
                        <bean class="org.motechproject.mobile.imp.util.ParamValueValidator">
                            <property name="values" value="" />
                            <property name="caseSensitive" value="false" />
                            <property name="conversions">
                                <map>
                                    <entry key="NA" value="" />
                                </map>
                            </property>
                        </bean>
                    </list>
                </entry>
                <entry key="GENDER">
                    <list>
                        <bean class="org.motechproject.mobile.imp.util.ParamExpressionValidator">
                            <property name="expression" value="${imp.validator.genderExpression}" />
                        </bean>
                        <bean class="org.motechproject.mobile.imp.util.ParamValueValidator">
                            <property name="values" value="m,M,f,F" />
                            <property name="conversions">
                                <map>
                                    <entry key="m" value="MALE" />
                                    <entry key="M" value="MALE" />
                                    <entry key="f" value="FEMALE" />
                                    <entry key="F" value="FEMALE" />
                                </map>
                            </property>
                        </bean>
                    </list>
                </entry>
                <entry key="BOOLEAN">
                    <list>
                        <bean class="org.motechproject.mobile.imp.util.ParamExpressionValidator">
                            <property name="expression" value="${imp.validator.yesNoExpression}" />
                        </bean>
                        <bean class="org.motechproject.mobile.imp.util.ParamValueValidator">
                            <property name="values" value="y,Y,n,N" />
                            <property name="conversions">
                                <map>
                                    <entry key="y" value="true" />
                                    <entry key="Y" value="true" />
                                    <entry key="n" value="false" />
                                    <entry key="N" value="false" />
                                </map>
                            </property>
                        </bean>
                    </list>
                </entry>
                <entry key="PHONETYPE">
                    <list>
                        <bean class="org.motechproject.mobile.imp.util.ParamExpressionValidator">
                            <property name="expression" value="${imp.validator.phoneTypeExpression}" />
                        </bean>
                        <bean class="org.motechproject.mobile.imp.util.ParamValueValidator">
                            <property name="values" value="HOUSEHOLD,PERSONAL,PUBLIC," />
                            <property name="caseSensitive" value="false" />
                        </bean>
                    </list>
                </entry>
                <entry key="CASESTATUS">
                    <list>
                        <bean class="org.motechproject.mobile.imp.util.ParamExpressionValidator">
                            <property name="expression" value="${imp.validator.alphaExpression}" />
                        </bean>
                        <bean class="org.motechproject.mobile.imp.util.ParamValueValidator">
                            <property name="values" value="o,O,n,N" />
                            <property name="conversions">
                                <map>
                                    <entry key="n" value="NEW" />
                                    <entry key="N" value="NEW" />
                                    <entry key="o" value="OLD" />
                                    <entry key="F" value="OLD" />
                                </map>
                            </property>
                        </bean>
                    </list>
                </entry>
                <entry key="HIVSTATUS">
                    <list>
                        <bean class="org.motechproject.mobile.imp.util.ParamExpressionValidator">
                            <property name="expression" value="${imp.validator.alphaExpression}" />
                        </bean>
                        <bean class="org.motechproject.mobile.imp.util.ParamValueValidator">
                            <property name="values" value="P,N,NA" />
                            <property name="caseSensitive" value="false" />
                        </bean>
                    </list>
                </entry>
                <entry key="DELIVERER">
                    <list>
                        <bean class="org.motechproject.mobile.imp.util.ParamExpressionValidator">
                            <property name="expression" value="${imp.validator.alphaExpression}" />
                        </bean>
                        <bean class="org.motechproject.mobile.imp.util.ParamValueValidator">
                            <property name="values" value="D,M,CHO,TTBA,UTBA,O" />
                            <property name="caseSensitive" value="false" />
                        </bean>
                    </list>
                </entry>
                <entry key="BIRTHOUTCOME">
                    <list>
                        <bean class="org.motechproject.mobile.imp.util.ParamExpressionValidator">
                            <property name="expression" value="${imp.validator.alphaExpression}" />
                        </bean>
                        <bean class="org.motechproject.mobile.imp.util.ParamValueValidator">
                            <property name="values" value="A,FSB,MSB" />
                            <property name="caseSensitive" value="false" />
                        </bean>
                    </list>
                </entry>
                <entry key="ANCVISIT">
                    <list>
                        <bean class="org.motechproject.mobile.imp.util.ParamExpressionValidator">
                            <property name="expression" value="${imp.validator.numericExpression}" />
                        </bean>
                        <bean class="org.motechproject.mobile.imp.util.ParamSizeValidator" />
                        <bean class="org.motechproject.mobile.imp.util.ParamValueValidator">
                            <property name="values" value="" />
                            <property name="caseSensitive" value="false" />
                            <property name="conversions">
                                <map>
                                    <entry key="NA" value="" />
                                </map>
                            </property>
                        </bean>
                        <bean class="org.motechproject.mobile.imp.util.ParamRangeValidator">
                            <property name="minValue" value="1" />
                            <property name="maxValue" value="12" />
                        </bean>
                    </list>
                </entry>
                <entry key="TTDOSE">
                    <list>
                        <bean class="org.motechproject.mobile.imp.util.ParamExpressionValidator">
                            <property name="expression" value="${imp.validator.numericExpression}" />
                        </bean>
                        <bean class="org.motechproject.mobile.imp.util.ParamSizeValidator" />
                        <bean class="org.motechproject.mobile.imp.util.ParamValueValidator">
                            <property name="values" value="" />
                            <property name="caseSensitive" value="false" />
                            <property name="conversions">
                                <map>
                                    <entry key="NA" value="" />
                                </map>
                            </property>
                        </bean>
                        <bean class="org.motechproject.mobile.imp.util.ParamRangeValidator">
                            <property name="minValue" value="1" />
                            <property name="maxValue" value="5" />
                        </bean>
                    </list>
                </entry>
                <entry key="IPTDOSE">
                    <list>
                        <bean class="org.motechproject.mobile.imp.util.ParamExpressionValidator">
                            <property name="expression" value="${imp.validator.numericExpression}" />
                        </bean>
                        <bean class="org.motechproject.mobile.imp.util.ParamSizeValidator" />
                        <bean class="org.motechproject.mobile.imp.util.ParamValueValidator">
                            <property name="values" value="" />
                            <property name="caseSensitive" value="false" />
                            <property name="conversions">
                                <map>
                                    <entry key="NA" value="" />
                                </map>
                            </property>
                        </bean>
                        <bean class="org.motechproject.mobile.imp.util.ParamRangeValidator">
                            <property name="minValue" value="1" />
                            <property name="maxValue" value="4" />
                        </bean>
                    </list>
                </entry>
                <entry key="ABORTIONTYPE">
                    <list>
                        <bean class="org.motechproject.mobile.imp.util.ParamExpressionValidator">
                            <property name="expression" value="${imp.validator.numericExpression}" />
                        </bean>
                        <bean class="org.motechproject.mobile.imp.util.ParamSizeValidator" />
                        <bean class="org.motechproject.mobile.imp.util.ParamValueValidator">
                            <property name="values" value="" />
                            <property name="caseSensitive" value="false" />
                            <property name="conversions">
                                <map>
                                    <entry key="NA" value="" />
                                </map>
                            </property>
                        </bean>
                        <bean class="org.motechproject.mobile.imp.util.ParamRangeValidator">
                            <property name="minValue" value="1" />
                            <property name="maxValue" value="3" />
                        </bean>
                    </list>
                </entry>
                <entry key="ABORTIONCOMPLICATIONS">
                    <list>
                        <bean class="org.motechproject.mobile.imp.util.ParamExpressionValidator">
                            <property name="expression" value="${imp.validator.numericExpression}" />
                        </bean>
                        <bean class="org.motechproject.mobile.imp.util.ParamSizeValidator" />
                        <bean class="org.motechproject.mobile.imp.util.ParamValueValidator">
                            <property name="values" value="" />
                            <property name="caseSensitive" value="false" />
                            <property name="conversions">
                                <map>
                                    <entry key="NA" value="" />
                                </map>
                            </property>
                        </bean>
                        <bean class="org.motechproject.mobile.imp.util.ParamRangeValidator">
                            <property name="minValue" value="1" />
                            <property name="maxValue" value="4" />
                        </bean>
                    </list>
                </entry>
                <entry key="MOD">
                    <list>
                        <bean class="org.motechproject.mobile.imp.util.ParamExpressionValidator">
                            <property name="expression" value="${imp.validator.numericExpression}" />
                        </bean>
                        <bean class="org.motechproject.mobile.imp.util.ParamSizeValidator" />
                        <bean class="org.motechproject.mobile.imp.util.ParamValueValidator">
                            <property name="values" value="" />
                            <property name="caseSensitive" value="false" />
                            <property name="conversions">
                                <map>
                                    <entry key="NA" value="" />
                                </map>
                            </property>
                        </bean>
                        <bean class="org.motechproject.mobile.imp.util.ParamRangeValidator">
                            <property name="minValue" value="1" />
                            <property name="maxValue" value="4" />
                        </bean>
                    </list>
                </entry>
                <entry key="OOD">
                    <list>
                        <bean class="org.motechproject.mobile.imp.util.ParamExpressionValidator">
                            <property name="expression" value="${imp.validator.numericExpression}" />
                        </bean>
                        <bean class="org.motechproject.mobile.imp.util.ParamSizeValidator" />
                        <bean class="org.motechproject.mobile.imp.util.ParamValueValidator">
                            <property name="values" value="" />
                            <property name="caseSensitive" value="false" />
                            <property name="conversions">
                                <map>
                                    <entry key="NA" value="" />
                                </map>
                            </property>
                        </bean>
                        <bean class="org.motechproject.mobile.imp.util.ParamRangeValidator">
                            <property name="minValue" value="1" />
                            <property name="maxValue" value="3" />
                        </bean>
                    </list>
                </entry>
                <entry key="LOCATION">
                    <list>
                        <bean class="org.motechproject.mobile.imp.util.ParamExpressionValidator">
                            <property name="expression" value="${imp.validator.numericExpression}" />
                        </bean>
                        <bean class="org.motechproject.mobile.imp.util.ParamSizeValidator" />
                        <bean class="org.motechproject.mobile.imp.util.ParamValueValidator">
                            <property name="values" value="" />
                            <property name="caseSensitive" value="false" />
                            <property name="conversions">
                                <map>
                                    <entry key="NA" value="" />
                                </map>
                            </property>
                        </bean>
                        <bean class="org.motechproject.mobile.imp.util.ParamRangeValidator">
                            <property name="minValue" value="1" />
                            <property name="maxValue" value="3" />
                        </bean>
                    </list>
                </entry>
                <entry key="MATERNALDEATHCAUSE">
                    <list>
                        <bean class="org.motechproject.mobile.imp.util.ParamExpressionValidator">
                            <property name="expression" value="${imp.validator.numericExpression}" />
                        </bean>
                        <bean class="org.motechproject.mobile.imp.util.ParamSizeValidator" />
                        <bean class="org.motechproject.mobile.imp.util.ParamValueValidator">
                            <property name="values" value="" />
                            <property name="caseSensitive" value="false" />
                            <property name="conversions">
                                <map>
                                    <entry key="NA" value="" />
                                </map>
                            </property>
                        </bean>
                        <bean class="org.motechproject.mobile.imp.util.ParamRangeValidator">
                            <property name="minValue" value="1" />
                            <property name="maxValue" value="6" />
                        </bean>
                    </list>
                </entry>
                <entry key="PPCVISIT">
                    <list>
                        <bean class="org.motechproject.mobile.imp.util.ParamExpressionValidator">
                            <property name="expression" value="${imp.validator.numericExpression}" />
                        </bean>
                        <bean class="org.motechproject.mobile.imp.util.ParamSizeValidator" />
                        <bean class="org.motechproject.mobile.imp.util.ParamValueValidator">
                            <property name="values" value="" />
                            <property name="caseSensitive" value="false" />
                            <property name="conversions">
                                <map>
                                    <entry key="NA" value="" />
                                </map>
                            </property>
                        </bean>
                        <bean class="org.motechproject.mobile.imp.util.ParamRangeValidator">
                            <property name="minValue" value="1" />
                            <property name="maxValue" value="3" />
                        </bean>
                    </list>
                </entry>
                <entry key="DEATHCAUSE">
                    <list>
                        <bean class="org.motechproject.mobile.imp.util.ParamExpressionValidator">
                            <property name="expression" value="${imp.validator.numericExpression}" />
                        </bean>
                        <bean class="org.motechproject.mobile.imp.util.ParamSizeValidator" />
                        <bean class="org.motechproject.mobile.imp.util.ParamValueValidator">
                            <property name="values" value="" />
                            <property name="caseSensitive" value="false" />
                            <property name="conversions">
                                <map>
                                    <entry key="NA" value="" />
                                </map>
                            </property>
                        </bean>
                        <bean class="org.motechproject.mobile.imp.util.ParamRangeValidator">
                            <property name="minValue" value="1" />
                            <property name="maxValue" value="3" />
                        </bean>
                    </list>
                </entry>
                <entry key="OPVDOSE">
                    <list>
                        <bean class="org.motechproject.mobile.imp.util.ParamExpressionValidator">
                            <property name="expression" value="${imp.validator.numericExpression}" />
                        </bean>
                        <bean class="org.motechproject.mobile.imp.util.ParamSizeValidator" />
                        <bean class="org.motechproject.mobile.imp.util.ParamValueValidator">
                            <property name="values" value="" />
                            <property name="caseSensitive" value="false" />
                            <property name="conversions">
                                <map>
                                    <entry key="NA" value="" />
                                </map>
                            </property>
                        </bean>
                        <bean class="org.motechproject.mobile.imp.util.ParamRangeValidator">
                            <property name="minValue" value="0" />
                            <property name="maxValue" value="3" />
                        </bean>
                    </list>
                </entry>
                <entry key="PENTADOSE">
                    <list>
                        <bean class="org.motechproject.mobile.imp.util.ParamExpressionValidator">
                            <property name="expression" value="${imp.validator.numericExpression}" />
                        </bean>
                        <bean class="org.motechproject.mobile.imp.util.ParamSizeValidator" />
                        <bean class="org.motechproject.mobile.imp.util.ParamValueValidator">
                            <property name="values" value="" />
                            <property name="caseSensitive" value="false" />
                            <property name="conversions">
                                <map>
                                    <entry key="NA" value="" />
                                </map>
                            </property>
                        </bean>
                        <bean class="org.motechproject.mobile.imp.util.ParamRangeValidator">
                            <property name="minValue" value="1" />
                            <property name="maxValue" value="3" />
                        </bean>
                    </list>
                </entry>
                <entry key="DIAGNOSIS">
                    <list>
                        <bean class="org.motechproject.mobile.imp.util.ParamExpressionValidator">
                            <property name="expression" value="${imp.validator.numericExpression}" />
                        </bean>
                        <bean class="org.motechproject.mobile.imp.util.ParamSizeValidator" />
                        <bean class="org.motechproject.mobile.imp.util.ParamValueValidator">
                            <property name="values" value="" />
                            <property name="caseSensitive" value="false" />
                            <property name="conversions">
                                <map>
                                    <entry key="NA" value="" />
                                </map>
                            </property>
                        </bean>
                        <bean class="org.motechproject.mobile.imp.util.ParamRangeValidator">
                            <property name="minValue" value="1" />
                            <property name="maxValue" value="78" />
                        </bean>
                    </list>
                </entry>
            </map>
        </property>
        <property name="serviceMethods">
            <map key-type="java.lang.String" value-type="org.motechproject.mobile.imp.util.MethodSignature">
                <entry key="PREGNANCYSTOP" value-ref="stopPregnancyProgramSignatureBean" />
                <entry key="GENERALOPD" value-ref="recordGeneralVisitSignatureBean" />
                <entry key="REGISTERCHILD" value-ref="registerChildSignatureBean" />
                <entry key="EDITPATIENT" value-ref="editPatientSignatureBean" />
                <entry key="ANC" value-ref="recordMotherANCVisitSignatureBean" />
                <entry key="ABORTION" value-ref="recordPregnancyTerminationSignatureBean" />
                <entry key="DELIVERY" value-ref="recordPregnancyDeliverySignatureBean" />
                <entry key="PPC" value-ref="recordMotherPPCVisitSignatureBean" />
                <entry key="DEATH" value-ref="recordDeathSignatureBean" />
                <entry key="CHILD" value-ref="recordChildPNCVisitSignatureBean" />
                <entry key="CHILDOPD" value-ref="recordChildVisitSignatureBean" />
                <entry key="MOTHEROPD" value-ref="recordMotherVisitSignatureBean" />
                <entry key="ANCDEFAULT" value-ref="queryANCDefaultersSignatureBean" />
                <entry key="TTDEFAULT" value-ref="queryTTDefaultersSignatureBean" />
                <entry key="PPCDEFAULT" value-ref="queryPPCDefaultersSignatureBean" />
                <entry key="PNCDEFAULT" value-ref="queryPNCDefaultersSignatureBean" />
                <entry key="CWCDEFAULT" value-ref="queryCWCDefaultersSignatureBean" />
                <entry key="UPCOMINGDELIVERIES" value-ref="queryUpcomingDeliveriesSignatureBean" />
                <entry key="RECENTDELIVERIES" value-ref="queryRecentDeliveriesSignatureBean" />
                <entry key="OVERDUEDELIVERIES" value-ref="queryOverdueDeliveriesSignatureBean" />
                <entry key="UPCOMINGCARE" value-ref="queryUpcomingCareSignatureBean" />
                <entry key="VIEWPATIENT" value-ref="queryPatientSignatureBean" />
                <entry key="FINDMOTECHID" value-ref="queryMotechIdSignatureBean" />
            </map>
        </property>
    </bean>
</beans>